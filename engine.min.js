"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Talk=function(t){document.getElementById("input").value=t,document.getElementById("sayit-button").click()},Data=function(t,e){return t.replace(/\$([A-Za-z$_]+[A-Za-z$_0-9]*)/g,function(t,n){return e[n]})},Chatbot=function t(){var e=arguments.length<=0||void 0===arguments[0]?"a Chatbot":arguments[0],n=this,a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a.Startup,r=void 0===s?"Hi my name is $Name!":s,u=arguments[2];_classCallCheck(this,t),this.Name=e,this.Options={Startup:Data(r,this),UID:CHAT.CURRENT_USER_ID},this.onmessage=u||function(){},this.Queue=[];var i=Symbol("Called");this[i]=new Set,Talk(this.Options.Startup),setInterval(function(){[].concat(document.getElementsByClassName("message")).filter(function(t,e,a){return n[i].has(t)?!1:(n[i].add(t),(t.parentElement.parentElement.className.match(/user-(\d+)/)||[0,UID])[1]!=UID&&e>a.map(function(t){return t.textContent.trim()}).lastIndexOf(n.Options.Startup))}).forEach(function(t){return n.onmessage.call({Text:t.textContent.trim(),HTML:t.innerHTML,Raw:t,User:t.parentElement.parentElement.getElementsByClassName("username")[0].textContent.trim(),Mentions:[].concat(t.querySelectorAll(".mention")).map(function(t){return(t.textContext||"").slice(1)}),Speak:function(t){return n.Queue.push(t)},Reply:function(e){return n.Queue.push(":"+t.id.split("-")[1]+" "+e)},Star:function(e){return t.querySelector(".meta > .stars > .vote").click()},"super":n})})},2100),setInterval(function(){n.Queue[0]&&Talk(n.Queue.shift())},2500)};
